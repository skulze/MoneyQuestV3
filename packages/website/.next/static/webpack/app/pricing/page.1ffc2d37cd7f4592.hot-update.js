"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pricing/page",{

/***/ "(app-pages-browser)/./hooks/useSubscription.ts":
/*!**********************************!*\
  !*** ./hooks/useSubscription.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSubscription: () => (/* binding */ useSubscription)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/../../node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/../../node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Import types and utilities without initializing Stripe\nconst SUBSCRIPTION_TIERS = {\n    FREE: {\n        name: 'Free',\n        price: 0,\n        features: [\n            'Manual transaction entry',\n            'Basic budgeting',\n            'Local data storage',\n            'PDF/Excel reports',\n            'Up to 3 accounts'\n        ],\n        limits: {\n            users: 1,\n            accounts: 3,\n            transactions: 1000,\n            budgets: 5,\n            categories: 20\n        }\n    },\n    PLUS: {\n        name: 'Plus',\n        price: 2.99,\n        features: [\n            'Everything in Free',\n            'Multi-user collaboration',\n            'OCR receipt processing',\n            'Enhanced analytics',\n            'Up to 5 accounts',\n            'Priority support'\n        ],\n        limits: {\n            users: 5,\n            accounts: 5,\n            transactions: 10000,\n            budgets: 20,\n            categories: 50\n        }\n    },\n    PREMIUM: {\n        name: 'Premium',\n        price: 9.99,\n        features: [\n            'Everything in Plus',\n            'Bank account connections',\n            'Automatic transaction import',\n            'Investment account sync',\n            'Advanced automation',\n            'Tax optimization',\n            'Unlimited accounts'\n        ],\n        limits: {\n            users: 10,\n            accounts: 999,\n            transactions: 999999,\n            budgets: 999,\n            categories: 999\n        }\n    }\n};\nconst canAccessFeature = (currentTier, requiredTier)=>{\n    const tierOrder = [\n        'FREE',\n        'PLUS',\n        'PREMIUM'\n    ];\n    const currentIndex = tierOrder.indexOf(currentTier);\n    const requiredIndex = tierOrder.indexOf(requiredTier);\n    return currentIndex >= requiredIndex;\n};\nconst checkUsageLimit = (tier, resource, currentCount)=>{\n    const tierConfig = SUBSCRIPTION_TIERS[tier];\n    if (!tierConfig) return false;\n    const limit = tierConfig.limits[resource];\n    return currentCount < limit;\n};\nconst getUpgradeMessage = (currentTier, requiredTier)=>{\n    if (requiredTier === 'PLUS') {\n        return 'Upgrade to Plus ($2.99/month) to access this feature';\n    }\n    if (requiredTier === 'PREMIUM') {\n        return 'Upgrade to Premium ($9.99/month) to access this feature';\n    }\n    return 'Please upgrade to access this feature';\n};\nconst FEATURE_TIER_MAP = {\n    multiUser: 'PLUS',\n    ocrReceipts: 'PLUS',\n    prioritySync: 'PLUS',\n    enhancedInvestments: 'PLUS',\n    bankConnections: 'PREMIUM',\n    investmentSync: 'PREMIUM'\n};\nfunction useSubscription() {\n    var _session_user;\n    const { data: session } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_1__.useSession)();\n    const [subscription, setSubscription] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const fetchSubscriptionStatus = async ()=>{\n        var _session_user;\n        if (!(session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.email)) {\n            // Default to free tier for unauthenticated users\n            setSubscription({\n                tier: 'FREE',\n                tierName: 'Free',\n                price: 0,\n                features: SUBSCRIPTION_TIERS.FREE.features,\n                limits: SUBSCRIPTION_TIERS.FREE.limits,\n                isActive: true\n            });\n            setIsLoading(false);\n            return;\n        }\n        try {\n            setError(null);\n            const response = await fetch('/api/subscriptions/status');\n            if (!response.ok) {\n                throw new Error(\"HTTP error! status: \".concat(response.status));\n            }\n            const data = await response.json();\n            setSubscription(data);\n        } catch (err) {\n            console.error('Failed to fetch subscription status:', err);\n            setError('Failed to load subscription status');\n            // Fallback to free tier\n            setSubscription({\n                tier: 'FREE',\n                tierName: 'Free',\n                price: 0,\n                features: SUBSCRIPTION_TIERS.FREE.features,\n                limits: SUBSCRIPTION_TIERS.FREE.limits,\n                isActive: true\n            });\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useSubscription.useEffect\": ()=>{\n            fetchSubscriptionStatus();\n        }\n    }[\"useSubscription.useEffect\"], [\n        session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.email\n    ]);\n    const canAccess = (requiredTier)=>{\n        if (!subscription) return false;\n        return canAccessFeature(subscription.tier, requiredTier);\n    };\n    const canUseFeature = (feature)=>{\n        const requiredTier = FEATURE_TIER_MAP[feature];\n        return canAccess(requiredTier);\n    };\n    const canAddResource = (resource, currentCount)=>{\n        if (!subscription) return false;\n        return checkUsageLimit(subscription.tier, resource, currentCount);\n    };\n    const getResourceLimit = (resource)=>{\n        if (!subscription) return SUBSCRIPTION_TIERS.FREE.limits[resource];\n        return subscription.limits[resource];\n    };\n    const needsUpgrade = (requiredTier)=>{\n        return !canAccess(requiredTier);\n    };\n    const getUpgradeMessageForTier = (requiredTier)=>{\n        if (!subscription) return 'Please sign in to access this feature';\n        return getUpgradeMessage(subscription.tier, requiredTier);\n    };\n    const upgrade = async (tier)=>{\n        try {\n            const response = await fetch('/api/subscriptions/create-checkout', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    tier\n                })\n            });\n            if (response.ok) {\n                const { checkoutUrl } = await response.json();\n                window.location.href = checkoutUrl;\n            } else {\n                // Handle demo mode gracefully\n                try {\n                    const errorData = await response.json();\n                    if (errorData.isDemoMode) {\n                        console.log('Demo mode: Upgrade to', tier, 'requested');\n                        throw new Error(\"Demo Mode: This app is running in demo mode. Stripe billing is not configured.\\n\\nTo upgrade to \".concat(tier, \" ($\").concat(SUBSCRIPTION_TIERS[tier].price, \"/month), you would need to:\\n1. Set up a Stripe account\\n2. Create price objects in Stripe dashboard\\n3. Configure STRIPE_PLUS_PRICE_ID and STRIPE_PREMIUM_PRICE_ID environment variables\"));\n                    } else {\n                        throw new Error(errorData.error || 'Failed to create checkout session');\n                    }\n                } catch (parseError) {\n                    throw new Error(\"Demo Mode: Stripe not configured. Would upgrade to \".concat(tier, \" ($\").concat(SUBSCRIPTION_TIERS[tier].price, \"/month)\"));\n                }\n            }\n        } catch (err) {\n            console.error('Error starting upgrade:', err);\n            throw err;\n        }\n    };\n    const manageBilling = async ()=>{\n        try {\n            const response = await fetch('/api/subscriptions/create-portal', {\n                method: 'POST'\n            });\n            if (response.ok) {\n                const { portalUrl } = await response.json();\n                window.location.href = portalUrl;\n            } else {\n                // Handle demo mode gracefully\n                console.log('Demo mode: Billing management requested');\n                throw new Error('Demo Mode: Stripe not configured. Would open billing portal');\n            }\n        } catch (err) {\n            console.error('Error opening billing portal:', err);\n            throw err;\n        }\n    };\n    const refresh = async ()=>{\n        setIsLoading(true);\n        await fetchSubscriptionStatus();\n    };\n    return {\n        subscription,\n        isLoading,\n        error,\n        canAccess,\n        canUseFeature,\n        canAddResource,\n        getResourceLimit,\n        getUpgradeMessage: getUpgradeMessageForTier,\n        needsUpgrade,\n        refresh,\n        upgrade,\n        manageBilling\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZVN1YnNjcmlwdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUE0QztBQUNDO0FBRTdDLHlEQUF5RDtBQUN6RCxNQUFNRyxxQkFBcUI7SUFDekJDLE1BQU07UUFDSkMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLFVBQVU7WUFDUjtZQUNBO1lBQ0E7WUFDQTtZQUNBO1NBQ0Q7UUFDREMsUUFBUTtZQUNOQyxPQUFPO1lBQ1BDLFVBQVU7WUFDVkMsY0FBYztZQUNkQyxTQUFTO1lBQ1RDLFlBQVk7UUFDZDtJQUNGO0lBQ0FDLE1BQU07UUFDSlQsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLFVBQVU7WUFDUjtZQUNBO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7U0FDRDtRQUNEQyxRQUFRO1lBQ05DLE9BQU87WUFDUEMsVUFBVTtZQUNWQyxjQUFjO1lBQ2RDLFNBQVM7WUFDVEMsWUFBWTtRQUNkO0lBQ0Y7SUFDQUUsU0FBUztRQUNQVixNQUFNO1FBQ05DLE9BQU87UUFDUEMsVUFBVTtZQUNSO1lBQ0E7WUFDQTtZQUNBO1lBQ0E7WUFDQTtZQUNBO1NBQ0Q7UUFDREMsUUFBUTtZQUNOQyxPQUFPO1lBQ1BDLFVBQVU7WUFDVkMsY0FBYztZQUNkQyxTQUFTO1lBQ1RDLFlBQVk7UUFDZDtJQUNGO0FBQ0Y7QUFFQSxNQUFNRyxtQkFBbUIsQ0FBQ0MsYUFBcUJDO0lBQzdDLE1BQU1DLFlBQVk7UUFBQztRQUFRO1FBQVE7S0FBVTtJQUM3QyxNQUFNQyxlQUFlRCxVQUFVRSxPQUFPLENBQUNKO0lBQ3ZDLE1BQU1LLGdCQUFnQkgsVUFBVUUsT0FBTyxDQUFDSDtJQUN4QyxPQUFPRSxnQkFBZ0JFO0FBQ3pCO0FBRUEsTUFBTUMsa0JBQWtCLENBQUNDLE1BQWNDLFVBQWtCQztJQUN2RCxNQUFNQyxhQUFheEIsa0JBQWtCLENBQUNxQixLQUF3QztJQUM5RSxJQUFJLENBQUNHLFlBQVksT0FBTztJQUN4QixNQUFNQyxRQUFRRCxXQUFXbkIsTUFB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STtZQUNGLE1BQU03QixXQUFXLE1BQU1DLE1BQU0sb0NBQW9DO2dCQUMvRGUsUUFBUTtZQUNWO1lBRUEsSUFBSWhCLFNBQVNFLEVBQUUsRUFBRTtnQkFDZixNQUFNLEVBQUU0QixTQUFTLEVBQUUsR0FBRyxNQUFNOUIsU0FBU0ssSUFBSTtnQkFDekNpQixPQUFPQyxRQUFRLENBQUNDLElBQUksR0FBR007WUFDekIsT0FBTztnQkFDTCw4QkFBOEI7Z0JBQzlCdkIsUUFBUW9CLEdBQUcsQ0FBQztnQkFDWixNQUFNLElBQUl4QixNQUFNO1lBQ2xCO1FBQ0YsRUFBRSxPQUFPRyxLQUFLO1lBQ1pDLFFBQVFkLEtBQUssQ0FBQyxpQ0FBaUNhO1lBQy9DLE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU15QixVQUFVO1FBQ2R2QyxhQUFhO1FBQ2IsTUFBTUc7SUFDUjtJQUVBLE9BQU87UUFDTE47UUFDQUU7UUFDQUU7UUFDQWU7UUFDQUM7UUFDQUU7UUFDQUM7UUFDQWxDLG1CQUFtQm9DO1FBQ25CRDtRQUNBa0I7UUFDQWhCO1FBQ0FjO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxuYXRoYVxcT25lRHJpdmVcXERlc2t0b3BcXE1vbmV5UXVlc3RWM1xccGFja2FnZXNcXHdlYnNpdGVcXGhvb2tzXFx1c2VTdWJzY3JpcHRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgvcmVhY3QnO1xuXG4vLyBJbXBvcnQgdHlwZXMgYW5kIHV0aWxpdGllcyB3aXRob3V0IGluaXRpYWxpemluZyBTdHJpcGVcbmNvbnN0IFNVQlNDUklQVElPTl9USUVSUyA9IHtcbiAgRlJFRToge1xuICAgIG5hbWU6ICdGcmVlJyxcbiAgICBwcmljZTogMCxcbiAgICBmZWF0dXJlczogW1xuICAgICAgJ01hbnVhbCB0cmFuc2FjdGlvbiBlbnRyeScsXG4gICAgICAnQmFzaWMgYnVkZ2V0aW5nJyxcbiAgICAgICdMb2NhbCBkYXRhIHN0b3JhZ2UnLFxuICAgICAgJ1BERi9FeGNlbCByZXBvcnRzJyxcbiAgICAgICdVcCB0byAzIGFjY291bnRzJ1xuICAgIF0sXG4gICAgbGltaXRzOiB7XG4gICAgICB1c2VyczogMSxcbiAgICAgIGFjY291bnRzOiAzLFxuICAgICAgdHJhbnNhY3Rpb25zOiAxMDAwLFxuICAgICAgYnVkZ2V0czogNSxcbiAgICAgIGNhdGVnb3JpZXM6IDIwXG4gICAgfVxuICB9LFxuICBQTFVTOiB7XG4gICAgbmFtZTogJ1BsdXMnLFxuICAgIHByaWNlOiAyLjk5LFxuICAgIGZlYXR1cmVzOiBbXG4gICAgICAnRXZlcnl0aGluZyBpbiBGcmVlJyxcbiAgICAgICdNdWx0aS11c2VyIGNvbGxhYm9yYXRpb24nLFxuICAgICAgJ09DUiByZWNlaXB0IHByb2Nlc3NpbmcnLFxuICAgICAgJ0VuaGFuY2VkIGFuYWx5dGljcycsXG4gICAgICAnVXAgdG8gNSBhY2NvdW50cycsXG4gICAgICAnUHJpb3JpdHkgc3VwcG9ydCdcbiAgICBdLFxuICAgIGxpbWl0czoge1xuICAgICAgdXNlcnM6IDUsXG4gICAgICBhY2NvdW50czogNSxcbiAgICAgIHRyYW5zYWN0aW9uczogMTAwMDAsXG4gICAgICBidWRnZXRzOiAyMCxcbiAgICAgIGNhdGVnb3JpZXM6IDUwXG4gICAgfVxuICB9LFxuICBQUkVNSVVNOiB7XG4gICAgbmFtZTogJ1ByZW1pdW0nLFxuICAgIHByaWNlOiA5Ljk5LFxuICAgIGZlYXR1cmVzOiBbXG4gICAgICAnRXZlcnl0aGluZyBpbiBQbHVzJyxcbiAgICAgICdCYW5rIGFjY291bnQgY29ubmVjdGlvbnMnLFxuICAgICAgJ0F1dG9tYXRpYyB0cmFuc2FjdGlvbiBpbXBvcnQnLFxuICAgICAgJ0ludmVzdG1lbnQgYWNjb3VudCBzeW5jJyxcbiAgICAgICdBZHZhbmNlZCBhdXRvbWF0aW9uJyxcbiAgICAgICdUYXggb3B0aW1pemF0aW9uJyxcbiAgICAgICdVbmxpbWl0ZWQgYWNjb3VudHMnXG4gICAgXSxcbiAgICBsaW1pdHM6IHtcbiAgICAgIHVzZXJzOiAxMCxcbiAgICAgIGFjY291bnRzOiA5OTksXG4gICAgICB0cmFuc2FjdGlvbnM6IDk5OTk5OSxcbiAgICAgIGJ1ZGdldHM6IDk5OSxcbiAgICAgIGNhdGVnb3JpZXM6IDk5OVxuICAgIH1cbiAgfVxufSBhcyBjb25zdDtcblxuY29uc3QgY2FuQWNjZXNzRmVhdHVyZSA9IChjdXJyZW50VGllcjogc3RyaW5nLCByZXF1aXJlZFRpZXI6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB0aWVyT3JkZXIgPSBbJ0ZSRUUnLCAnUExVUycsICdQUkVNSVVNJ107XG4gIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRpZXJPcmRlci5pbmRleE9mKGN1cnJlbnRUaWVyKTtcbiAgY29uc3QgcmVxdWlyZWRJbmRleCA9IHRpZXJPcmRlci5pbmRleE9mKHJlcXVpcmVkVGllcik7XG4gIHJldHVybiBjdXJyZW50SW5kZXggPj0gcmVxdWlyZWRJbmRleDtcbn07XG5cbmNvbnN0IGNoZWNrVXNhZ2VMaW1pdCA9ICh0aWVyOiBzdHJpbmcsIHJlc291cmNlOiBzdHJpbmcsIGN1cnJlbnRDb3VudDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHRpZXJDb25maWcgPSBTVUJTQ1JJUFRJT05fVElFUlNbdGllciBhcyBrZXlvZiB0eXBlb2YgU1VCU0NSSVBUSU9OX1RJRVJTXTtcbiAgaWYgKCF0aWVyQ29uZmlnKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGxpbWl0ID0gdGllckNvbmZpZy5saW1pdHNbcmVzb3VyY2UgYXMga2V5b2YgdHlwZW9mIHRpZXJDb25maWcubGltaXRzXTtcbiAgcmV0dXJuIGN1cnJlbnRDb3VudCA8IGxpbWl0O1xufTtcblxuY29uc3QgZ2V0VXBncmFkZU1lc3NhZ2UgPSAoY3VycmVudFRpZXI6IHN0cmluZywgcmVxdWlyZWRUaWVyOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAocmVxdWlyZWRUaWVyID09PSAnUExVUycpIHtcbiAgICByZXR1cm4gJ1VwZ3JhZGUgdG8gUGx1cyAoJDIuOTkvbW9udGgpIHRvIGFjY2VzcyB0aGlzIGZlYXR1cmUnO1xuICB9XG4gIGlmIChyZXF1aXJlZFRpZXIgPT09ICdQUkVNSVVNJykge1xuICAgIHJldHVybiAnVXBncmFkZSB0byBQcmVtaXVtICgkOS45OS9tb250aCkgdG8gYWNjZXNzIHRoaXMgZmVhdHVyZSc7XG4gIH1cbiAgcmV0dXJuICdQbGVhc2UgdXBncmFkZSB0byBhY2Nlc3MgdGhpcyBmZWF0dXJlJztcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3Vic2NyaXB0aW9uU3RhdHVzIHtcbiAgdGllcjogJ0ZSRUUnIHwgJ1BMVVMnIHwgJ1BSRU1JVU0nO1xuICB0aWVyTmFtZTogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xuICBmZWF0dXJlczogc3RyaW5nW107XG4gIGxpbWl0czoge1xuICAgIHVzZXJzOiBudW1iZXI7XG4gICAgYWNjb3VudHM6IG51bWJlcjtcbiAgICB0cmFuc2FjdGlvbnM6IG51bWJlcjtcbiAgICBidWRnZXRzOiBudW1iZXI7XG4gICAgY2F0ZWdvcmllczogbnVtYmVyO1xuICB9O1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgc3RyaXBlU3Vic2NyaXB0aW9uPzoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgc3RhdHVzOiBzdHJpbmc7XG4gICAgY3VycmVudFBlcmlvZFN0YXJ0OiBEYXRlO1xuICAgIGN1cnJlbnRQZXJpb2RFbmQ6IERhdGU7XG4gICAgY2FuY2VsQXRQZXJpb2RFbmQ6IGJvb2xlYW47XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3Vic2NyaXB0aW9uUmV0dXJuIHtcbiAgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb25TdGF0dXMgfCBudWxsO1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuXG4gIC8vIEZlYXR1cmUgYWNjZXNzIGNoZWNrc1xuICBjYW5BY2Nlc3M6IChyZXF1aXJlZFRpZXI6ICdGUkVFJyB8ICdQTFVTJyB8ICdQUkVNSVVNJykgPT4gYm9vbGVhbjtcbiAgY2FuVXNlRmVhdHVyZTogKGZlYXR1cmU6ICdtdWx0aVVzZXInIHwgJ29jclJlY2VpcHRzJyB8ICdwcmlvcml0eVN5bmMnIHwgJ2VuaGFuY2VkSW52ZXN0bWVudHMnIHwgJ2JhbmtDb25uZWN0aW9ucycgfCAnaW52ZXN0bWVudFN5bmMnKSA9PiBib29sZWFuO1xuXG4gIC8vIFVzYWdlIGxpbWl0IGNoZWNrc1xuICBjYW5BZGRSZXNvdXJjZTogKHJlc291cmNlOiAndXNlcnMnIHwgJ2FjY291bnRzJyB8ICdidWRnZXRzJyB8ICdjYXRlZ29yaWVzJywgY3VycmVudENvdW50OiBudW1iZXIpID0+IGJvb2xlYW47XG4gIGdldFJlc291cmNlTGltaXQ6IChyZXNvdXJjZTogJ3VzZXJzJyB8ICdhY2NvdW50cycgfCAnYnVkZ2V0cycgfCAnY2F0ZWdvcmllcycpID0+IG51bWJlcjtcblxuICAvLyBVcGdyYWRlIGhlbHBlcnNcbiAgZ2V0VXBncmFkZU1lc3NhZ2U6IChyZXF1aXJlZFRpZXI6ICdGUkVFJyB8ICdQTFVTJyB8ICdQUkVNSVVNJykgPT4gc3RyaW5nO1xuICBuZWVkc1VwZ3JhZGU6IChyZXF1aXJlZFRpZXI6ICdGUkVFJyB8ICdQTFVTJyB8ICdQUkVNSVVNJykgPT4gYm9vbGVhbjtcblxuICAvLyBBY3Rpb25zXG4gIHJlZnJlc2g6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHVwZ3JhZGU6ICh0aWVyOiAnUExVUycgfCAnUFJFTUlVTScpID0+IFByb21pc2U8dm9pZD47XG4gIG1hbmFnZUJpbGxpbmc6ICgpID0+IFByb21pc2U8dm9pZD47XG59XG5cbmNvbnN0IEZFQVRVUkVfVElFUl9NQVAgPSB7XG4gIG11bHRpVXNlcjogJ1BMVVMnLFxuICBvY3JSZWNlaXB0czogJ1BMVVMnLFxuICBwcmlvcml0eVN5bmM6ICdQTFVTJyxcbiAgZW5oYW5jZWRJbnZlc3RtZW50czogJ1BMVVMnLFxuICBiYW5rQ29ubmVjdGlvbnM6ICdQUkVNSVVNJyxcbiAgaW52ZXN0bWVudFN5bmM6ICdQUkVNSVVNJyxcbn0gYXMgY29uc3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdWJzY3JpcHRpb24oKTogVXNlU3Vic2NyaXB0aW9uUmV0dXJuIHtcbiAgY29uc3QgeyBkYXRhOiBzZXNzaW9uIH0gPSB1c2VTZXNzaW9uKCk7XG4gIGNvbnN0IFtzdWJzY3JpcHRpb24sIHNldFN1YnNjcmlwdGlvbl0gPSB1c2VTdGF0ZTxTdWJzY3JpcHRpb25TdGF0dXMgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0IGZldGNoU3Vic2NyaXB0aW9uU3RhdHVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc2Vzc2lvbj8udXNlcj8uZW1haWwpIHtcbiAgICAgIC8vIERlZmF1bHQgdG8gZnJlZSB0aWVyIGZvciB1bmF1dGhlbnRpY2F0ZWQgdXNlcnNcbiAgICAgIHNldFN1YnNjcmlwdGlvbih7XG4gICAgICAgIHRpZXI6ICdGUkVFJyxcbiAgICAgICAgdGllck5hbWU6ICdGcmVlJyxcbiAgICAgICAgcHJpY2U6IDAsXG4gICAgICAgIGZlYXR1cmVzOiBTVUJTQ1JJUFRJT05fVElFUlMuRlJFRS5mZWF0dXJlcyxcbiAgICAgICAgbGltaXRzOiBTVUJTQ1JJUFRJT05fVElFUlMuRlJFRS5saW1pdHMsXG4gICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc3Vic2NyaXB0aW9ucy9zdGF0dXMnKTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBzZXRTdWJzY3JpcHRpb24oZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggc3Vic2NyaXB0aW9uIHN0YXR1czonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHN1YnNjcmlwdGlvbiBzdGF0dXMnKTtcblxuICAgICAgLy8gRmFsbGJhY2sgdG8gZnJlZSB0aWVyXG4gICAgICBzZXRTdWJzY3JpcHRpb24oe1xuICAgICAgICB0aWVyOiAnRlJFRScsXG4gICAgICAgIHRpZXJOYW1lOiAnRnJlZScsXG4gICAgICAgIHByaWNlOiAwLFxuICAgICAgICBmZWF0dXJlczogU1VCU0NSSVBUSU9OX1RJRVJTLkZSRUUuZmVhdHVyZXMsXG4gICAgICAgIGxpbWl0czogU1VCU0NSSVBUSU9OX1RJRVJTLkZSRUUubGltaXRzLFxuICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoU3Vic2NyaXB0aW9uU3RhdHVzKCk7XG4gIH0sIFtzZXNzaW9uPy51c2VyPy5lbWFpbF0pO1xuXG4gIGNvbnN0IGNhbkFjY2VzcyA9IChyZXF1aXJlZFRpZXI6ICdGUkVFJyB8ICdQTFVTJyB8ICdQUkVNSVVNJyk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICghc3Vic2NyaXB0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGNhbkFjY2Vzc0ZlYXR1cmUoc3Vic2NyaXB0aW9uLnRpZXIsIHJlcXVpcmVkVGllcik7XG4gIH07XG5cbiAgY29uc3QgY2FuVXNlRmVhdHVyZSA9IChmZWF0dXJlOiBrZXlvZiB0eXBlb2YgRkVBVFVSRV9USUVSX01BUCk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IHJlcXVpcmVkVGllciA9IEZFQVRVUkVfVElFUl9NQVBbZmVhdHVyZV07XG4gICAgcmV0dXJuIGNhbkFjY2VzcyhyZXF1aXJlZFRpZXIpO1xuICB9O1xuXG4gIGNvbnN0IGNhbkFkZFJlc291cmNlID0gKHJlc291cmNlOiAndXNlcnMnIHwgJ2FjY291bnRzJyB8ICdidWRnZXRzJyB8ICdjYXRlZ29yaWVzJywgY3VycmVudENvdW50OiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIXN1YnNjcmlwdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBjaGVja1VzYWdlTGltaXQoc3Vic2NyaXB0aW9uLnRpZXIsIHJlc291cmNlLCBjdXJyZW50Q291bnQpO1xuICB9O1xuXG4gIGNvbnN0IGdldFJlc291cmNlTGltaXQgPSAocmVzb3VyY2U6ICd1c2VycycgfCAnYWNjb3VudHMnIHwgJ2J1ZGdldHMnIHwgJ2NhdGVnb3JpZXMnKTogbnVtYmVyID0+IHtcbiAgICBpZiAoIXN1YnNjcmlwdGlvbikgcmV0dXJuIFNVQlNDUklQVElPTl9USUVSUy5GUkVFLmxpbWl0c1tyZXNvdXJjZV07XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbi5saW1pdHNbcmVzb3VyY2VdO1xuICB9O1xuXG4gIGNvbnN0IG5lZWRzVXBncmFkZSA9IChyZXF1aXJlZFRpZXI6ICdGUkVFJyB8ICdQTFVTJyB8ICdQUkVNSVVNJyk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiAhY2FuQWNjZXNzKHJlcXVpcmVkVGllcik7XG4gIH07XG5cbiAgY29uc3QgZ2V0VXBncmFkZU1lc3NhZ2VGb3JUaWVyID0gKHJlcXVpcmVkVGllcjogJ0ZSRUUnIHwgJ1BMVVMnIHwgJ1BSRU1JVU0nKTogc3RyaW5nID0+IHtcbiAgICBpZiAoIXN1YnNjcmlwdGlvbikgcmV0dXJuICdQbGVhc2Ugc2lnbiBpbiB0byBhY2Nlc3MgdGhpcyBmZWF0dXJlJztcbiAgICByZXR1cm4gZ2V0VXBncmFkZU1lc3NhZ2Uoc3Vic2NyaXB0aW9uLnRpZXIsIHJlcXVpcmVkVGllcik7XG4gIH07XG5cbiAgY29uc3QgdXBncmFkZSA9IGFzeW5jICh0aWVyOiAnUExVUycgfCAnUFJFTUlVTScpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zdWJzY3JpcHRpb25zL2NyZWF0ZS1jaGVja291dCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHRpZXIgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHsgY2hlY2tvdXRVcmwgfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBjaGVja291dFVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSBkZW1vIG1vZGUgZ3JhY2VmdWxseVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBpZiAoZXJyb3JEYXRhLmlzRGVtb01vZGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEZW1vIG1vZGU6IFVwZ3JhZGUgdG8nLCB0aWVyLCAncmVxdWVzdGVkJyk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERlbW8gTW9kZTogVGhpcyBhcHAgaXMgcnVubmluZyBpbiBkZW1vIG1vZGUuIFN0cmlwZSBiaWxsaW5nIGlzIG5vdCBjb25maWd1cmVkLlxcblxcblRvIHVwZ3JhZGUgdG8gJHt0aWVyfSAoJCR7U1VCU0NSSVBUSU9OX1RJRVJTW3RpZXJdLnByaWNlfS9tb250aCksIHlvdSB3b3VsZCBuZWVkIHRvOlxcbjEuIFNldCB1cCBhIFN0cmlwZSBhY2NvdW50XFxuMi4gQ3JlYXRlIHByaWNlIG9iamVjdHMgaW4gU3RyaXBlIGRhc2hib2FyZFxcbjMuIENvbmZpZ3VyZSBTVFJJUEVfUExVU19QUklDRV9JRCBhbmQgU1RSSVBFX1BSRU1JVU1fUFJJQ0VfSUQgZW52aXJvbm1lbnQgdmFyaWFibGVzYCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgY2hlY2tvdXQgc2Vzc2lvbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnJvcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGVtbyBNb2RlOiBTdHJpcGUgbm90IGNvbmZpZ3VyZWQuIFdvdWxkIHVwZ3JhZGUgdG8gJHt0aWVyfSAoJCR7U1VCU0NSSVBUSU9OX1RJRVJTW3RpZXJdLnByaWNlfS9tb250aClgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RhcnRpbmcgdXBncmFkZTonLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBtYW5hZ2VCaWxsaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3N1YnNjcmlwdGlvbnMvY3JlYXRlLXBvcnRhbCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHsgcG9ydGFsVXJsIH0gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gcG9ydGFsVXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFuZGxlIGRlbW8gbW9kZSBncmFjZWZ1bGx5XG4gICAgICAgIGNvbnNvbGUubG9nKCdEZW1vIG1vZGU6IEJpbGxpbmcgbWFuYWdlbWVudCByZXF1ZXN0ZWQnKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZW1vIE1vZGU6IFN0cmlwZSBub3QgY29uZmlndXJlZC4gV291bGQgb3BlbiBiaWxsaW5nIHBvcnRhbCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igb3BlbmluZyBiaWxsaW5nIHBvcnRhbDonLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZWZyZXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICBhd2FpdCBmZXRjaFN1YnNjcmlwdGlvblN0YXR1cygpO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc3Vic2NyaXB0aW9uLFxuICAgIGlzTG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBjYW5BY2Nlc3MsXG4gICAgY2FuVXNlRmVhdHVyZSxcbiAgICBjYW5BZGRSZXNvdXJjZSxcbiAgICBnZXRSZXNvdXJjZUxpbWl0LFxuICAgIGdldFVwZ3JhZGVNZXNzYWdlOiBnZXRVcGdyYWRlTWVzc2FnZUZvclRpZXIsXG4gICAgbmVlZHNVcGdyYWRlLFxuICAgIHJlZnJlc2gsXG4gICAgdXBncmFkZSxcbiAgICBtYW5hZ2VCaWxsaW5nLFxuICB9O1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVNlc3Npb24iLCJTVUJTQ1JJUFRJT05fVElFUlMiLCJGUkVFIiwibmFtZSIsInByaWNlIiwiZmVhdHVyZXMiLCJsaW1pdHMiLCJ1c2VycyIsImFjY291bnRzIiwidHJhbnNhY3Rpb25zIiwiYnVkZ2V0cyIsImNhdGVnb3JpZXMiLCJQTFVTIiwiUFJFTUlVTSIsImNhbkFjY2Vzc0ZlYXR1cmUiLCJjdXJyZW50VGllciIsInJlcXVpcmVkVGllciIsInRpZXJPcmRlciIsImN1cnJlbnRJbmRleCIsImluZGV4T2YiLCJyZXF1aXJlZEluZGV4IiwiY2hlY2tVc2FnZUxpbWl0IiwidGllciIsInJlc291cmNlIiwiY3VycmVudENvdW50IiwidGllckNvbmZpZyIsImxpbWl0IiwiZ2V0VXBncmFkZU1lc3NhZ2UiLCJGRUFUVVJFX1RJRVJfTUFQIiwibXVsdGlVc2VyIiwib2NyUmVjZWlwdHMiLCJwcmlvcml0eVN5bmMiLCJlbmhhbmNlZEludmVzdG1lbnRzIiwiYmFua0Nvbm5lY3Rpb25zIiwiaW52ZXN0bWVudFN5bmMiLCJ1c2VTdWJzY3JpcHRpb24iLCJzZXNzaW9uIiwiZGF0YSIsInN1YnNjcmlwdGlvbiIsInNldFN1YnNjcmlwdGlvbiIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJmZXRjaFN1YnNjcmlwdGlvblN0YXR1cyIsInVzZXIiLCJlbWFpbCIsInRpZXJOYW1lIiwiaXNBY3RpdmUiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJjb25zb2xlIiwiY2FuQWNjZXNzIiwiY2FuVXNlRmVhdHVyZSIsImZlYXR1cmUiLCJjYW5BZGRSZXNvdXJjZSIsImdldFJlc291cmNlTGltaXQiLCJuZWVkc1VwZ3JhZGUiLCJnZXRVcGdyYWRlTWVzc2FnZUZvclRpZXIiLCJ1cGdyYWRlIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2hlY2tvdXRVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJlcnJvckRhdGEiLCJpc0RlbW9Nb2RlIiwibG9nIiwicGFyc2VFcnJvciIsIm1hbmFnZUJpbGxpbmciLCJwb3J0YWxVcmwiLCJyZWZyZXNoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useSubscription.ts\n"));

/***/ })

});